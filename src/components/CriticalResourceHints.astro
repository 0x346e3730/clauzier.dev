---
// Critical resource hints for performance optimization
interface Props {
  page?: 'home' | 'blog' | 'post' | 'resume';
  heroImage?: string; // Optional hero image to preload for better LCP
}

const { page = 'home', heroImage } = Astro.props;
---

<!-- DNS Prefetch for external domains -->
<link rel="dns-prefetch" href="https://plausible.clauzier.dev" />

<!-- Preconnect to analytics -->
<link rel="preconnect" href="https://plausible.clauzier.dev" />

<!-- Preload critical fonts -->
<link rel="preload" href="/_astro/monaspace-neon.woff2" as="font" type="font/woff2" crossorigin />
<link rel="preload" href="/_astro/monaspace-radon.woff2" as="font" type="font/woff2" crossorigin />

<!-- Preload hero images for better LCP -->
{heroImage && (
  <link rel="preload" as="image" href={heroImage} fetchpriority="high" />
)}

<!-- Page-specific prefetching -->
{page === 'home' && (
  <>
    <link rel="prefetch" href="/blog/" />
    <link rel="prefetch" href="/resume/" />
  </>
)}

{page === 'blog' && (
  <link rel="prefetch" href="/" />
)}

{page === 'post' && (
  <link rel="prefetch" href="/blog/" />
)}

{page === 'resume' && (
  <link rel="prefetch" href="/" />
)}
